@import (reference) '~@flogo-web/assets/styles/_variables';
@import (reference) '~@flogo-web/assets/styles/_typography';
@import (reference) '~@flogo-web/assets/styles/uxpl/dropdown';

::ng-deep {
  perspective-viewer {
    --hypergrid--padding: 0 0 0 24px;
    --button--font-family: 'flogo-icon';
    // kebab menu from flogo-icon font
    --config_button--before: '\e908';
    --hypergrid-header--font-size: bold 12px;
  }
}

:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  position: relative;
  z-index: 1;
}

/****
 layout
***/

.main {
  flex: 1;
  background-color: #eaeaea;
}

.content-layout {
  display: flex;
  flex-direction: row;
}

.content-layout__main {
  flex: 1;

  display: flex;
  flex-direction: column;
}

.content-layout__side {
  display: flex;
  flex-direction: row;
}

flogo-context-panel-area {
  flex: 1;
}

flogo-context-panel-trigger {
  left: 200px;
}

[context-panel-role='primary-area'] {
  flex: 1;
}

flogo-diagram-stream {
  display: block;
  flex: 1;
  margin-top: 30px;
}

/****
 header (should probably be its own component)
***/

.header {
  display: flex;
  padding: 24px;
  background: url(/assets/svg/bg-microservice.svg) no-repeat -61px -53px;
  background-size: 260px 255px;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
  align-items: center;
  z-index: 3;
}

.stream-header {
  .header();
  background: none;
}

.stream-details {
  display: flex;
  flex: 2;
  align-items: center;
  overflow: hidden;

  &.--hover {
    .details-app-name {
      color: @color-link-hover;
      text-decoration: underline;
    }

    .back-to-app {
      color: @color-link-hover;
    }
  }
}

.menu-content {
  position: relative;
}

.details-content__app-name {
  font-size: 12px;
  color: @color-dark-gray;
  align-self: center;
}

.menu-dropdown-kebab-menu {
  color: @color-dark-gray;
  display: block;
  padding: 0.4rem;
  margin: 0.1rem 0.1rem 0.1rem 1.5rem;
  transition: color 80ms ease-in-out;

  &:hover,
  &.active {
    color: @primary-blue;
  }
}

.menu-dropdown {
  .uxpl-dropdown-container();
  color: @color-plain;
  position: absolute;
  right: 0;
  top: 46px;
  transform: scale(0, 0);

  &.active {
    animation: scale-in-ver-top 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  }
}

.menu-dropdown__list {
  .uxpl-dropdown();
}

.menu-dropdown__item {
  .uxpl-dropdown__item();
  font-size: 16px;
  letter-spacing: 0.3px;
}

.back-to-app {
  cursor: pointer;
  color: @warm-grey;
  font-size: 19px;
  font-weight: bold;
  margin-right: 36px;
  padding: 3px;
}

.profile__thumb {
  width: 48px;
  height: 48px;
  border-radius: 3px;
  margin: 0 10px 0 0;
}

.details-content {
  display: flex;
  flex-wrap: wrap;
  padding: 0 10px;
  overflow: hidden;
  letter-spacing: 0.3px;
}

.details-name {
  .secondary-header();
  display: inline-block;
  max-width: 80%;
  color: @color-ink;
  font-weight: 600;
  line-height: 1.5;
  letter-spacing: 0.3px;
  margin: 0 0 1px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.details-app-name {
  color: @warm-grey;
  font-style: italic;
  cursor: pointer;
  margin-left: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  // avoid last character is cut because italics + hidden overflow
  padding-right: 0.2em;
}

.details-description {
  color: @warm-grey;
  padding: 0 10px;
  margin: 0 0 7px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 12px;
  min-width: 2rem;
  width: 100%;
}
