<div class="header">
  <div class="stream-details"></div>
  <div class="menu-container" (fgClickOutside)="closeMenu()">
    <i class="flogo-icon-kebabmenu kebabmenu-icon menu-dropdown-kebab-menu"
       [class.active]="isMenuOpen"
       (click)="toggleMenu()"></i>
    <div class="menu-dropdown" [class.active]="isMenuOpen">
      <ul class="menu-dropdown__list">
        <li class="menu-dropdown__item" (click)="deleteStream()">
          <i class="flogo-icon flogo-icon-delete"></i>{{ 'CANVAS:DELETE' | translate }}
        </li>
      </ul>
    </div>
  </div>
</div>
<flogo-context-panel-area
  [isOpen]="isPanelOpen"
  panelTitle="Stream Simulator"
  (open)="togglePanel()"
  (close)="togglePanel()"
>
  <div class="main" context-panel-role="primary-area">
    <h1>Primary Area</h1>
    <flogo-context-panel-trigger
      (open)="togglePanel()"
      title="Stream Simulator"
    ></flogo-context-panel-trigger>
  </div>
  <div context-panel-role="panel-content">
    <!-- need to use ngTemplateOutlet for the component to be initialized/destroyed when the panel toggles its visibility -->
    <ng-container *ngTemplateOutlet="simulator"></ng-container>
  </div>

  <ng-template #simulator>
    <flogo-stream-simulator
      *ngIf="isPanelOpen"
      [items]="simulationData$ | async"
    ></flogo-stream-simulator>
  </ng-template>
</flogo-context-panel-area>
