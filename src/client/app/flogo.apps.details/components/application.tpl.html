<div class="flogo-app-details-item">
  <div class="flogo-app-details__header row">
    <div class="col-sm-8 col-md-offset-1">
      <div class="flogo-app-details__header__name-container error">
        <span class="error-msg">Name already exist</span>
        <input *ngIf="editingName" type="text" #appInputName
               [(ngModel)]="application.name"
               (ngModelChange)="onInputNameChange($event)"
               (blur)="onInputNameBlur($event)"
               (keyup)="onKeyUpName($event)"
               id="appName" class="flogo-app-details__header__name--edit"/>
        <label class="flogo-app-details__header__name applicationLabel"
               *ngIf="!editingName"
               (click)="onClickLabelName($event)">{{application?.name}}</label>
      </div>

      <div class="flogo-app-details__header__creation-date-container">
        <label class="flogo-app-details__header__creation-date">{{ 'FLOWS:CREATED' | translate:{value:''} }}<span>{{createdAtFormatted}}.</span>
        </label>
      </div>

      <div class="flogo-app-details__header__description-container">
        <a *ngIf="application && !application.description && editingDescription == false" class="flogo-link"
           (click)="onClickAddDescription($event)">{{ 'DETAILS:ADD-DESCRIPTION' | translate }}</a>
        <textarea *ngIf="editingDescription" #appInputDescription
                  (blur)="onInputDescriptionBlur($event)"
                  placeholder="Description"
                  rows="3"
                  (keyup)="onKeyUpDescription($event)"
                  id="appDescription" class="flogo-app-details__header__description--edit"
                  [(ngModel)]="application.description"></textarea>
        <label class="flogo-app-details__header__description descriptionLabel"
               *ngIf="!editingDescription && application?.description"
               (click)="onClickLabelDescription($event)">{{application?.description}}</label>
      </div>
    </div>
    <div class="col-sm-3">
      <button class="flogo-app-details-btn flogo-button--default">{{ 'DETAILS:BUILD' | translate }}</button>
    </div>
  </div>

  <div class="flogo-app-details__content col-md-9 col-md-offset-1">
    <div class="flogo-app-details__toolbar row">
      <div class="col-sm-3">
        <span class="flogo-app-details__toolbar__title">{{ 'DETAILS:FLOWS' | translate }}</span>
      </div>
      <div class="col-sm-4 col-sm-offset-5">
        <flogo-apps-search [placeholder]="searchPlaceHolder" (changedSearch)="onChangedSearch($event)"
                           class="search"></flogo-apps-search>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <div class="commands">
          <flogo-flows-add [appId]="application?.id"></flogo-flows-add>
          <flogo-flows-import></flogo-flows-import>
        </div>
      </div>
    </div>

    <div *ngIf="!flows.length">
      <hr>
      <p>{{'DETAILS:NO-FLOWS-CREATED' | translate}}<span
        class="action">&nbsp;{{'DETAILS:CREATE-A-FLOW' | translate}}</span></p>
    </div>

    <div class="flows">
      <flogo-apps-flows [flows]="flows"></flogo-apps-flows>
    </div>

  </div>
</div>
