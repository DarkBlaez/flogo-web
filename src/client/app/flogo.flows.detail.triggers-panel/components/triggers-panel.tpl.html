<div class="main">
  <div *ngFor="let trigger of triggersList" class="trigger_block"
       [ngClass]="{'trigger_block--selected': selectedTriggerID == trigger.id}">
    <div class="trigger"  [class.--lambda]="isLambda(trigger)" title="{{trigger.name}}" (click)="showTriggerMenu($event, trigger)">
      <i class="flogo-icon-trigger"></i>
      <svg class="lambda-icon" viewBox="0 0 200 278">
        <use xlink:href="/assets/svg/lambda-icon.svg#layer1"></use>
      </svg>
    </div>
    <div class="trigger_menu"
         *ngIf="displayTriggerMenuPopover && (selectedTriggerID == trigger.id)"
         (fgClickOutside)="handleClickOutsideTriggerMenu($event)"
         [ngClass]="{'trigger_menu--open': displayTriggerMenuPopover && (selectedTriggerID == trigger.id)}">
      <ul class="list-group trigger_menu-list">
        <li class="list-group-item trigger_menu-item" (click)="showTriggerDetails(trigger)"><i
          class="flogo-icon-settings trigger_menu-icon"></i>{{"TRIGGER-MENU:CONFIGURE" | translate}}
        </li>
        <li class="list-group-item trigger_menu-item" (click)="openTriggerMapper(trigger)"><i
          class="fa fa-bolt trigger_menu-icon"></i>{{"TRIGGER-MENU:MAP-TO-FLOW-PARAMS" | translate}}
        </li>
        <li class="list-group-item trigger_menu-item" (click)="deleteHandlerForTrigger(trigger.id)"><i
          class="flogo-icon-delete trigger_menu-icon"></i>{{"TRIGGER-MENU:DELETE" | translate}}
        </li>
      </ul>
    </div>
  </div>
  <div class="trigger trigger--add" title="Add Trigger" *ngIf="allowMultipleTriggers" (click)="openAddTriggerModel()">
    <i class="flogo-icon-add"></i>
  </div>
  <flogo-select-trigger [(isAddTriggerActivated)]="showAddTrigger"
                        [appDetails]="appDetails"
                        (onAddTriggerToAction)="addTriggerToAction($event)"
                        (onInstallDialog)="openInstallTriggerWindow()">
  </flogo-select-trigger>
  <flogo-installer [profileType]="appDetails?.appProfileType"
                   [installType]="'trigger'" [(isActivated)]="installTriggerActivated"
                   (isActivatedChange)="openAddTriggerModel()"
                   (installed)="onTriggerInstalledAction()"></flogo-installer>
  <flogo-trigger-mapper></flogo-trigger-mapper>
</div>
