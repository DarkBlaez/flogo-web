<div class="flogo-common-edit-panel flogo-task-container">

  <div [hidden]="hasErrors">

    <div class="flogo-common-edit-panel__head">

      <div class="flogo-common-edit-panel__head-icon">
        <img src="/assets/svg/flogo.icon.gears.circle.svg" alt="">
      </div>

      <div class="flogo-common-edit-panel__head-wrapper flogo-task-container__header">
        <h3  *ngIf="_task" class="flogo-common-edit-panel__head-title">{{ _task.name || _task.id }}</h3>
        <div class="flogo-common-edit-panel__head-subtitle"></div>
      </div>
    </div>

    <h3 class="flogo-common-edit-panel__legend flogo-task-container__fields-header" [hidden]="!_attributes.inputs.length">Input Parameters</h3>
    <div *ngFor="#input of _attributes.inputs" class="flogo-task-container__input">

      <div *ngIf="getControlByType(input.type).control == 'FieldTextBox'">
        <flogo-form-builder-fields-textbox [info]="getInfo(input)" [observer]="_observerInput"></flogo-form-builder-fields-textbox>
      </div>

     <div *ngIf="getControlByType(input.type).control == 'FieldNumber'">
        <flogo-form-builder-fields-number [info]="getInfo(input)" [observer]="_observerInput"></flogo-form-builder-fields-number>
      </div>

     <div *ngIf="getControlByType(input.type).control == 'FieldRadio'">
        <flogo-form-builder-fields-radio [info]="getInfo(input)" [observer]="_observerInput"></flogo-form-builder-fields-radio>
      </div>

     <div *ngIf="getControlByType(input.type).control == 'FieldTextArea'">
        <flogo-form-builder-fields-textarea [info]="getInfo(input)" [observer]="_observerInput"></flogo-form-builder-fields-textarea>
      </div>

    </div>

    <h3 class="flogo-common-edit-panel__legend flogo-task-container__fields-header" [hidden]="!_attributes.outputs.length">Output Parameters</h3>
    <div *ngFor="#output of _attributes.outputs" class="flogo-task-container__output">

      <div *ngIf="getControlByType(output.type).control == 'FieldTextBox'">
        <flogo-form-builder-fields-textbox [info]="getInfo(output)" [observer]="_observerOutput"></flogo-form-builder-fields-textbox>
      </div>

      <div *ngIf="getControlByType(output.type).control == 'FieldNumber'">
        <flogo-form-builder-fields-number [info]="getInfo(output)" [observer]="_observerOutput"></flogo-form-builder-fields-number>
      </div>

      <div *ngIf="getControlByType(output.type).control == 'FieldRadio'">
        <flogo-form-builder-fields-radio [info]="getInfo(output)" [observer]="_observerOutput"></flogo-form-builder-fields-radio>
      </div>

      <div *ngIf="getControlByType(output.type).control == 'FieldTextArea'">
        <flogo-form-builder-fields-textarea [info]="getInfo(output)" [observer]="_observerOutput"></flogo-form-builder-fields-textarea>
      </div>

    </div>

    <div class="flogo-task-container__footer">
      <button class="tc-buttons tc-buttons-primary-call" [class.disabled]="!_canRunFromThisTile" [disabled]="!_canRunFromThisTile" (click)="runFromThisTile($event)">
        Run from this tile
      </button>
      <button class="flogo-btn-link" [disabled]="!_hasChanges" (click)="cancelEdit($event)">Cancel</button>
    </div>

  </div>

</div>
