<button class="flogo-button flogo-button--secondary" (click)="openModal()">
  {{ 'SETTINGS:TITLE' | translate }}
</button>


<modal [size]="'sm'" #modal>
  <i class="flogo-icon-close device-properties__close" (click)="closeModal()"></i>
    <modal-body>
      <div class="device-properties__header">
        <h3>{{ 'SETTINGS:TITLE' | translate }}</h3>
      </div>

      <div class="device-properties">

        <div class="device-properties__categories">
          <ul *ngIf="inputSettings">
            <li *ngFor="let input of inputSettings"
                [ngClass]="{'device-properties__categories--selected':input.key === selectedInput?.key}"
                (click)="selectInput(input)">{{input.key}}</li>
          </ul>
        </div>

        <div class="device-properties__settings" *ngIf="selectedInput && selectedInput.key !== 'other'">
          <div *ngFor="let key of selectedInput.settings | keys">
            <div>{{key}}</div>
            <input type="text" [(ngModel)]="selectedInput.settings[key]" [ngModelOptions]="{standalone: true}" />
          </div>
        </div>


        <div class="device-properties__settings--custom" *ngIf="selectedInput && selectedInput.key === 'other'">
          <h4>Define additional properties here: </h4>

          <div *ngFor="let custom of customSettings" style="display: flex">
            <div class="device-properties__settings--custom__key">
              <input type="text" placeholder="key" [(ngModel)]="custom.key" />
            </div>

            <div class="device-properties__settings--custom__separator">:</div>

            <div class="device-properties__settings--custom__value">
              <input type="text" placeholder="value" [(ngModel)]="custom.value" />
            </div>
          </div>
          <button type="button" class="flogo-button--default" (click)="addCustom()">{{ 'SETTINGS:ADD' | translate }}</button>
        </div>

      </div>

      <div class="device-properties__commands">
        <div>
          <button type="button" class="flogo-button--secondary" data-dismiss="modal" (click)="closeModal()">{{ 'SETTINGS:CANCEL' | translate }}</button>
          <button type="submit" class="flogo-button--default" [disabled]="false">
           {{ 'SETTINGS:SAVE' | translate }}
         </button>
        </div>
      </div>


    </modal-body>
</modal>
