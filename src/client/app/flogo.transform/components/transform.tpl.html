<div>
  <modal [ngClass]="{myModalClass: true}" [size]="'lg'" #transformModal>
    <modal-header>
      <div class="flogo-transform-header">
        <div class="flogo-transform-header__title">
          <h2>Transformation</h2>
        </div>
        <div class="flogo-transform-header__options">
          <button class="tc-buttons tc-buttons-secondary" (click)="deleteTransform()">Delete</button>
        </div>
        <div class="flogo-transform-header__main-actions">
          <button class="tc-buttons tc-buttons-primary"
                  [class.disabled]="!isValid || !isDirty" [disabled]="!isValid || !isDirty"
                  (click)="saveTransform()">Save
          </button>
          <button class="close" (click)="cancel()">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
      </div>
    </modal-header>
    <modal-body>
      <div class="row">
        <div class="col-md-4 col-sm-12">
          <legend>Previous tiles</legend>
          <pre>{{ data.previousTiles | json }}</pre>
        </div>
        <div [class.has-error]="!isValid" class="col-md-4 col-sm-12">
          <legend>Mappings</legend>
          <flogo-transform-error-display *ngIf="errors" [errors]="errors"></flogo-transform-error-display>
          <flogo-transform-map-editor [mappings]="data.mappings"
                                      [tile]="data.tile"
                                      [precedingTiles]="data.previousTiles"
                                      (mappingChange)="onMappingsChange($event)"></flogo-transform-map-editor>
        </div>
        <div class="col-md-4 col-sm-12">
          <legend>Input data
            <small>{{ data.tile?.name }}</small>
          </legend>
          <pre>{{ data.tile | json }}</pre>
        </div>
      </div>
    </modal-body>
  </modal>
</div>
